(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-public-login"],{"16d2":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-f6c86f3e]{background:#fff}body.?%PAGE?%[data-v-f6c86f3e]{background:#fff}.container[data-v-f6c86f3e]{padding-top:115px;position:relative;width:100vw;height:100vh;overflow:hidden;background:#fff}.wrapper[data-v-f6c86f3e]{position:relative;z-index:90;background:#fff;padding-bottom:%?40?%}.back-btn[data-v-f6c86f3e]{position:absolute;left:%?40?%;z-index:9999;padding-top:0;top:%?40?%;font-size:%?40?%;color:#303133}.left-top-sign[data-v-f6c86f3e]{font-size:%?120?%;color:#f8f8f8;position:relative;left:%?-16?%}.right-top-sign[data-v-f6c86f3e]{position:absolute;top:%?80?%;right:%?-30?%;z-index:95}.right-top-sign[data-v-f6c86f3e]:before, .right-top-sign[data-v-f6c86f3e]:after{display:block;content:"";width:%?400?%;height:%?80?%;background:#b4f3e2}.right-top-sign[data-v-f6c86f3e]:before{-webkit-transform:rotate(50deg);transform:rotate(50deg);border-radius:0 50px 0 0}.right-top-sign[data-v-f6c86f3e]:after{position:absolute;right:%?-198?%;top:0;-webkit-transform:rotate(-50deg);transform:rotate(-50deg);border-radius:50px 0 0 0\n  /* background: pink; */}.left-bottom-sign[data-v-f6c86f3e]{position:absolute;left:%?-270?%;bottom:%?-320?%;border:%?100?% solid #d0d1fd;border-radius:50%;padding:%?180?%}.welcome[data-v-f6c86f3e]{position:relative;left:%?50?%;top:%?-90?%;font-size:%?46?%;color:#555;text-shadow:1px 0 1px rgba(0,0,0,.3)}.input-content[data-v-f6c86f3e]{padding:0 %?60?%}.input-item[data-v-f6c86f3e]{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;padding:0 %?30?%;background:#f8f6fc;height:%?120?%;border-radius:4px;margin-bottom:%?50?%}.input-item[data-v-f6c86f3e]:last-child{margin-bottom:0}.input-item .tit[data-v-f6c86f3e]{height:%?50?%;line-height:%?56?%;font-size:%?26?%;color:#606266}.input-item uni-input[data-v-f6c86f3e]{height:%?60?%;font-size:%?30?%;color:#303133;width:100%}.confirm-btn[data-v-f6c86f3e]{width:%?630?%;height:%?76?%;line-height:%?76?%;border-radius:50px;margin-top:%?70?%;background:#5af;color:#fff;font-size:%?32?%}.confirm-btn[data-v-f6c86f3e]:after{border-radius:100px}.forget-section[data-v-f6c86f3e]{font-size:%?26?%;color:#4399fc;text-align:center;margin-top:%?40?%}.register-section[data-v-f6c86f3e]{position:absolute;left:0;bottom:%?50?%;width:100%;font-size:%?26?%;color:#606266;text-align:center}.register-section uni-text[data-v-f6c86f3e]{color:#4399fc;margin-left:%?10?%}',""]),e.exports=t},"342a":function(e,t,n){"use strict";n("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.AddcardPassWord=function(e){return(0,o.request_post)("/sso/AddcardPassWord?card="+e)},t.GetUserInfo=function(){return(0,o.request_Get)("/sso/info?name=1")},t.getAuthCode=function(e){return(0,o.request_Get)("/sso/getAuthCode?telephone="+e)},t.getBrowseList=function(){return(0,o.request_Get)("/member/readHistory/list?pageNum=1&pageSize=5")},t.getChannel=function(){return(0,o.request_Get)("/sso/getchannel")},t.getDealList=function(e,t){return(0,o.request_Get)("/sso/getDealList?pageNum="+e+"&pageSize="+t)},t.getInvitationInfo=function(){return(0,o.request_Get)("/sso/getinvitationinfo")},t.getMemberSonList=function(e,t){return(0,o.request_Get)("/sso/getmembersonlist?pageNum="+e+"&pageSize="+t)},t.invitebinding=function(e){return(0,o.request_post)("/sso/invitebinding?inviteCode="+e)},t.login=function(e,t){return(0,o.request_post)("/sso/login?password="+t+"&username="+e)},t.loginByCode=function(e,t){return(0,o.request_post)("/sso/loginByCode?code="+t+"&phoneNumber="+e)},t.loginbymobile=function(e){return(0,o.request_post)("/sso/loginbymobile?phoneNumber="+e.phoneNumber)},t.register=function(e,t,n,i){return(0,o.request_post)("/sso/register?authCode="+e+"&password="+t+"&telephone="+n+"&username="+i)},t.withdraw=function(e){return(0,o.request_post)("/sso/withdraw",e)};var o=n("aba4")},3482:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){}));var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"left-bottom-sign"}),n("v-uni-view",{staticClass:"back-btn yticon icon-zuojiantou-up",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.navBack.apply(void 0,arguments)}}}),n("v-uni-view",{staticClass:"right-top-sign"}),n("v-uni-view",{staticClass:"wrapper"},[n("v-uni-view",{staticClass:"left-top-sign"},[e._v("LOGIN")]),n("v-uni-view",{staticClass:"welcome"},[e._v("验证码登录"),n("v-uni-view",{staticStyle:{"font-size":"10px",color:"#000000"}},[e._v("首次登录将自动注册")])],1),n("v-uni-view",{staticClass:"input-content"},[n("v-uni-view",{staticClass:"input-item"},[n("v-uni-text",{staticClass:"tit"},[e._v("手机号")]),n("v-uni-input",{attrs:{type:"text",value:e.username,placeholder:"请输入账号","data-key":"username"},on:{input:function(t){arguments[0]=t=e.$handleEvent(t),e.inputChange.apply(void 0,arguments)}},model:{value:e.loginbyMobileParam.phoneNumber,callback:function(t){e.$set(e.loginbyMobileParam,"phoneNumber",t)},expression:"loginbyMobileParam.phoneNumber"}})],1)],1),n("v-uni-button",{staticClass:"confirm-btn",attrs:{disabled:e.logining},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.toLogin.apply(void 0,arguments)}}},[e._v("登录")])],1)],1)},i=[]},6806:function(e,t,n){var o=n("16d2");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("013535e4",o,!0,{sourceMap:!1,shadowMode:!1})},"77ed":function(e,t,n){"use strict";var o=n("6806"),i=n.n(o);i.a},"851c":function(e,t,n){"use strict";n.r(t);var o=n("a7b1"),i=n.n(o);for(var a in o)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a},"9c06":function(e,t,n){"use strict";n.r(t);var o=n("3482"),i=n("851c");for(var a in i)["default"].indexOf(a)<0&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("77ed");var s=n("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"f6c86f3e",null,!1,o["a"],void 0);t["default"]=r.exports},a7b1:function(e,t,n){"use strict";(function(e){n("7a82");var o=n("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(n("c7eb")),a=o(n("1da1")),s=o(n("5530")),r=n("26cb"),u=n("342a"),c={data:function(){return{username:"",password:"",logining:!1,token:null,loginbyMobileParam:{phoneNumber:null},sendSmsTest:"发送验证码",show:!0}},onReady:function(){this.loadData()},computed:(0,s.default)({},(0,r.mapState)(["hasLogin","userInfo"])),methods:(0,s.default)((0,s.default)({},(0,r.mapMutations)(["logins"])),{},{inputChange:function(e){var t=e.currentTarget.dataset.key;this[t]=e.detail.value},navBack:function(){uni.navigateBack()},toRegist:function(){uni.redirectTo({url:"/pages/public/reg"})},toForget:function(){uni.redirectTo({url:"/pages/public/forget"})},toLogin:function(){var e=this;return(0,a.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(uni.showLoading({title:"登录中"}),""!=e.username){t.next=4;break}return uni.showToast({title:"请输入账号",duration:3e3,icon:"error"}),t.abrupt("return");case 4:e.loginByMobile();case 5:case"end":return t.stop()}}),t)})))()},loadData:function(){return(0,a.default)((0,i.default)().mark((function t(){return(0,i.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:uni.preLogin({provider:"univerify",success:function(){uni.login({provider:"univerify",success:function(t){e.callFunction({name:"getMeble",data:{accessToken:t.authResult.access_token,openId:t.authResult.openid},success:function(e){var t=e.result.message;if(console.log(t),"操作成功"==t){var n=e.result.data.token,o="Bearer "+n;uni.setStorageSync("loginToken",o),uni.closeAuthView(),this.hasLogin=!0,uni.reLaunch({url:"/pages/user/user",success:function(e){console.log(e)},fail:function(e){console.log(e)}})}},fail:function(e){console.log("登录失败"),console.log(e)}})},fail:function(e){console.log(e.errCode),console.log(e.errMsg)}})},fail:function(e){console.log(e.errCode),console.log(e.errMsg)}});case 1:case"end":return t.stop()}}),t)})))()},loginByMobile:function(){var e=this;(0,u.loginbymobile)(this.loginbyMobileParam).then((function(t){if("操作成功"==t.message){uni.showToast({title:"登录成功",duration:3e3,icon:"success"});var n=t.data.token,o="Bearer "+n;uni.setStorageSync("loginToken",o),uni.closeAuthView(),e.hasLogin=!0,uni.reLaunch({url:"/pages/user/user",success:function(e){console.log(e)},fail:function(e){console.log(e)}})}else uni.showToast({title:"登录失败",duration:3e3,icon:"error"})}))},sendSms:function(){var e=this;uni.showLoading({title:"发送中"}),(0,u.getAuthCode)(this.username).then((function(t){uni.hideLoading();var n=JSON.parse(t.data);console.log(n),0==n.code?(uni.showToast({title:"验证码发送成功",duration:2e3,icon:"success"}),e.sendSmsTest="重新发送"):(uni.showToast({title:n.msg,duration:2e3,icon:"error"}),e.sendSmsTest="发送失败"),console.log(t)}))}})};t.default=c}).call(this,n("a9ff")["default"])}}]);